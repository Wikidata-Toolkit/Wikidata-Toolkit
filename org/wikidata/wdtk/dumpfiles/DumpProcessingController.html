<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Sun Jun 16 12:39:04 UTC 2024 -->
<title>DumpProcessingController (Wikidata Toolkit 0.15.3 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2024-06-16">
<meta name="description" content="declaration: package: org.wikidata.wdtk.dumpfiles, class: DumpProcessingController">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/DumpProcessingController.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.wikidata.wdtk.dumpfiles</a></div>
<h1 title="Class DumpProcessingController" class="title">Class DumpProcessingController</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.wikidata.wdtk.dumpfiles.DumpProcessingController</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">DumpProcessingController</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">A class for controlling the processing of dump files through a unified
 interface. The settings of the controller specify how dump files should be
 fetched and processed.
 <p>
 The methods for registering listeners to process dump files that contain
 revisions are
 <a href="#registerMwRevisionProcessor(org.wikidata.wdtk.dumpfiles.MwRevisionProcessor,java.lang.String,boolean)"><code>registerMwRevisionProcessor(MwRevisionProcessor, String, boolean)</code></a>
 and
 <a href="#registerEntityDocumentProcessor(org.wikidata.wdtk.datamodel.interfaces.EntityDocumentProcessor,java.lang.String,boolean)"><code>registerEntityDocumentProcessor(EntityDocumentProcessor, String, boolean)</code></a>.
 <p>
 For processing the content of wiki pages, there are two modes of operation:
 revision-based and entity-document-based. The former is used when processing
 dump files that contain revisions. These hold detailed information about each
 revision (revision number, author, time, etc.) that could be used by revision
 processors.
 <p>
 The entity-document-based operation is used when processing simplified dumps
 that contain only the content of the current (entity) pages of a wiki. In
 this case, no additional information is available and only the entity
 document processors are called (since we have no revisions). Both modes use
 the same entity document processors. In revision-based runs, it is possible
 to restrict some entity document processors to certain content models only
 (e.g., to process only properties). In entity-document-based runs, this is
 ignored and all entity document processors get to see all the data.
 <p>
 The methods for revision-based processing of selected dump files (and
 downloading them first, finding out which ones are relevant) are
 <a href="#processAllRecentRevisionDumps()"><code>processAllRecentRevisionDumps()</code></a>,
 <a href="#processMostRecentMainDump()"><code>processMostRecentMainDump()</code></a>, and
 <a href="#processMostRecentMainDump()"><code>processMostRecentMainDump()</code></a>.
 <p>
 To extract the most recent sitelinks information, the method
 <a href="#getSitesInformation()"><code>getSitesInformation()</code></a> can be used. To get information about the
 revision dump files that the main methods will process, one can use
 <a href="#getWmfDumpFileManager()"><code>getWmfDumpFileManager()</code></a> to get access to the underlying dump file
 manager, which can be used to get access to dump file data.
 <p>
 The controller will also catch exceptions that may occur when trying to
 download and read dump files. They will be turned into logged errors.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>Markus Kroetzsch</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.lang.String)" class="member-name-link">DumpProcessingController</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;projectName)</code></div>
<div class="col-last even-row-color">
<div class="block">Creates a new DumpFileProcessingController for the project of the given
 name.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="MwDumpFile.html" title="interface in org.wikidata.wdtk.dumpfiles">MwDumpFile</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMostRecentDump(org.wikidata.wdtk.dumpfiles.DumpContentType)" class="member-name-link">getMostRecentDump</a><wbr>(<a href="DumpContentType.html" title="enum in org.wikidata.wdtk.dumpfiles">DumpContentType</a>&nbsp;dumpContentType)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a handler for the most recent dump file of the given type that is
 available (under the current settings), or null if no dump file of this
 type could be retrieved.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../datamodel/interfaces/Sites.html" title="interface in org.wikidata.wdtk.datamodel.interfaces">Sites</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSitesInformation()" class="member-name-link">getSitesInformation</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Processes the most recent dump of the sites table to extract information
 about registered sites.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="wmf/WmfDumpFileManager.html" title="class in org.wikidata.wdtk.dumpfiles.wmf">WmfDumpFileManager</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getWmfDumpFileManager()" class="member-name-link">getWmfDumpFileManager</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a WmfDumpFileManager based on the current settings.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#processAllRecentRevisionDumps()" class="member-name-link">processAllRecentRevisionDumps</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Processes all relevant page revision dumps in order.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#processDump(org.wikidata.wdtk.dumpfiles.MwDumpFile)" class="member-name-link">processDump</a><wbr>(<a href="MwDumpFile.html" title="interface in org.wikidata.wdtk.dumpfiles">MwDumpFile</a>&nbsp;dumpFile)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Processes the contents of the given dump file.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#processMostRecentJsonDump()" class="member-name-link">processMostRecentJsonDump</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Processes the most recent main (complete) dump in JSON form that is
 available.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#processMostRecentMainDump()" class="member-name-link">processMostRecentMainDump</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Processes the most recent main (complete) dump that is available.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#registerEntityDocumentProcessor(org.wikidata.wdtk.datamodel.interfaces.EntityDocumentProcessor,java.lang.String,boolean)" class="member-name-link">registerEntityDocumentProcessor</a><wbr>(<a href="../datamodel/interfaces/EntityDocumentProcessor.html" title="interface in org.wikidata.wdtk.datamodel.interfaces">EntityDocumentProcessor</a>&nbsp;entityDocumentProcessor,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;model,
 boolean&nbsp;onlyCurrentRevisions)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Registers an EntityDocumentProcessor, which will henceforth be notified
 of all entity documents that are encountered in the dump.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#registerMwRevisionProcessor(org.wikidata.wdtk.dumpfiles.MwRevisionProcessor,java.lang.String,boolean)" class="member-name-link">registerMwRevisionProcessor</a><wbr>(<a href="MwRevisionProcessor.html" title="interface in org.wikidata.wdtk.dumpfiles">MwRevisionProcessor</a>&nbsp;mwRevisionProcessor,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;model,
 boolean&nbsp;onlyCurrentRevisions)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Registers an MwRevisionProcessor, which will henceforth be notified of
 all revisions that are encountered in the dump.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setDownloadDirectory(java.lang.String)" class="member-name-link">setDownloadDirectory</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;downloadDirectory)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the directory where dumpfiles are stored locally.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setLanguageFilter(java.util.Set)" class="member-name-link">setLanguageFilter</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;languageFilter)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets a language filter.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setOfflineMode(boolean)" class="member-name-link">setOfflineMode</a><wbr>(boolean&nbsp;offlineModeEnabled)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Disables or enables Web access.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setPropertyFilter(java.util.Set)" class="member-name-link">setPropertyFilter</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="../datamodel/interfaces/PropertyIdValue.html" title="interface in org.wikidata.wdtk.datamodel.interfaces">PropertyIdValue</a>&gt;&nbsp;propertyFilter)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets a property filter.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setSiteLinkFilter(java.util.Set)" class="member-name-link">setSiteLinkFilter</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;siteLinkFilter)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets a site link filter.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone--" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize--" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass--" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode--" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify--" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll--" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait--" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-int-" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(java.lang.String)">
<h3>DumpProcessingController</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">DumpProcessingController</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;projectName)</span></div>
<div class="block">Creates a new DumpFileProcessingController for the project of the given
 name. By default, the dump file directory will be assumed to be in the
 current directory and the object will access the Web to fetch the most
 recent files.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>projectName</code> - Wikimedia projectname, e.g., "wikidatawiki" or "enwiki"</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="setDownloadDirectory(java.lang.String)">
<h3>setDownloadDirectory</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setDownloadDirectory</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;downloadDirectory)</span>
                          throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Sets the directory where dumpfiles are stored locally. If it does not
 exist yet, this directory will be created. Dumpfiles will later be stored
 in a subdirectory "dumpfiles", but this will only be created when needed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>downloadDirectory</code> - the download base directory</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if the existence of the directory could not be checked or if
             it did not exists and could not be created either</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setOfflineMode(boolean)">
<h3>setOfflineMode</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setOfflineMode</span><wbr><span class="parameters">(boolean&nbsp;offlineModeEnabled)</span></div>
<div class="block">Disables or enables Web access.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>offlineModeEnabled</code> - if true, all Web access is disabled and only local files will
            be processed</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setPropertyFilter(java.util.Set)">
<h3>setPropertyFilter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setPropertyFilter</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="../datamodel/interfaces/PropertyIdValue.html" title="interface in org.wikidata.wdtk.datamodel.interfaces">PropertyIdValue</a>&gt;&nbsp;propertyFilter)</span></div>
<div class="block">Sets a property filter. If given, all data will be preprocessed to
 contain only statements for the given (main) properties.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>propertyFilter</code> - set of properties that should be retained (can be empty)</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="../datamodel/interfaces/DocumentDataFilter.html#setPropertyFilter(java.util.Set)"><code>DocumentDataFilter.setPropertyFilter(Set)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setSiteLinkFilter(java.util.Set)">
<h3>setSiteLinkFilter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setSiteLinkFilter</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;siteLinkFilter)</span></div>
<div class="block">Sets a site link filter. If given, all data will be preprocessed to
 contain only data for the given site keys.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>siteLinkFilter</code> - set of siteLinks that should be retained (can be empty)</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="../datamodel/interfaces/DocumentDataFilter.html#setSiteLinkFilter(java.util.Set)"><code>DocumentDataFilter.setSiteLinkFilter(Set)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setLanguageFilter(java.util.Set)">
<h3>setLanguageFilter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setLanguageFilter</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;languageFilter)</span></div>
<div class="block">Sets a language filter. If given, all data will be preprocessed to
 contain only data for the given languages.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>languageFilter</code> - set of language codes that should be retained (can be empty)</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="../datamodel/interfaces/DocumentDataFilter.html#setLanguageFilter(java.util.Set)"><code>DocumentDataFilter.setLanguageFilter(Set)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="registerMwRevisionProcessor(org.wikidata.wdtk.dumpfiles.MwRevisionProcessor,java.lang.String,boolean)">
<h3>registerMwRevisionProcessor</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">registerMwRevisionProcessor</span><wbr><span class="parameters">(<a href="MwRevisionProcessor.html" title="interface in org.wikidata.wdtk.dumpfiles">MwRevisionProcessor</a>&nbsp;mwRevisionProcessor,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;model,
 boolean&nbsp;onlyCurrentRevisions)</span></div>
<div class="block">Registers an MwRevisionProcessor, which will henceforth be notified of
 all revisions that are encountered in the dump.
 <p>
 This only is used when processing dumps that contain revisions. In
 particular, plain JSON dumps contain no revision information.
 <p>
 Importantly, the <a href="MwRevision.html" title="interface in org.wikidata.wdtk.dumpfiles"><code>MwRevision</code></a> that the registered processors will
 receive is valid only during the execution of
 <a href="MwRevisionProcessor.html#processRevision(org.wikidata.wdtk.dumpfiles.MwRevision)"><code>MwRevisionProcessor.processRevision(MwRevision)</code></a>, but it will not
 be permanent. If the data is to be retained permanently, the revision
 processor needs to make its own copy.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>mwRevisionProcessor</code> - the revision processor to register</dd>
<dd><code>model</code> - the content model that the processor is registered for; it
            will only be notified of revisions in that model; if null is
            given, all revisions will be processed whatever their model</dd>
<dd><code>onlyCurrentRevisions</code> - if true, then the subscriber is only notified of the most
            current revisions; if false, then it will receive all
            revisions, current or not</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="registerEntityDocumentProcessor(org.wikidata.wdtk.datamodel.interfaces.EntityDocumentProcessor,java.lang.String,boolean)">
<h3>registerEntityDocumentProcessor</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">registerEntityDocumentProcessor</span><wbr><span class="parameters">(<a href="../datamodel/interfaces/EntityDocumentProcessor.html" title="interface in org.wikidata.wdtk.datamodel.interfaces">EntityDocumentProcessor</a>&nbsp;entityDocumentProcessor,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;model,
 boolean&nbsp;onlyCurrentRevisions)</span></div>
<div class="block">Registers an EntityDocumentProcessor, which will henceforth be notified
 of all entity documents that are encountered in the dump.
 <p>
 It is possible to register processors for specific content types and to
 use either all revisions or only the most current ones. This
 functionality is only available when processing dumps that contain this
 information. In particular, plain JSON dumps do not specify content
 models at all and have only one (current) revision of each entity.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>entityDocumentProcessor</code> - the entity document processor to register</dd>
<dd><code>model</code> - the content model that the processor is registered for; it
            will only be notified of revisions in that model; if null is
            given, all revisions will be processed whatever their model</dd>
<dd><code>onlyCurrentRevisions</code> - if true, then the subscriber is only notified of the most
            current revisions; if false, then it will receive all
            revisions, current or not</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSitesInformation()">
<h3>getSitesInformation</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../datamodel/interfaces/Sites.html" title="interface in org.wikidata.wdtk.datamodel.interfaces">Sites</a></span>&nbsp;<span class="element-name">getSitesInformation</span>()
                          throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Processes the most recent dump of the sites table to extract information
 about registered sites.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a Sites objects that contains the extracted information, or null
         if no sites dump was available (typically in offline mode without
         having any previously downloaded sites dumps)</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if there was a problem accessing the sites table dump or the
             dump download directory</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="processAllRecentRevisionDumps()">
<h3>processAllRecentRevisionDumps</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">processAllRecentRevisionDumps</span>()</div>
<div class="block">Processes all relevant page revision dumps in order. The registered
 listeners (MwRevisionProcessor or EntityDocumentProcessor objects) will
 be notified of all data they registered for.
 <p>
 Note that this method may not always provide reliable results since
 single incremental dump files are sometimes missing, even if earlier and
 later incremental dumps are available. In such a case, processing all
 recent dumps will miss some (random) revisions, thus reflecting a state
 that the wiki has never really been in. It might thus be preferable to
 process only a single (main) dump file without any incremental dumps.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#processMostRecentMainDump()"><code>processMostRecentMainDump()</code></a></li>
<li><a href="#processDump(org.wikidata.wdtk.dumpfiles.MwDumpFile)"><code>processDump(MwDumpFile)</code></a></li>
<li><a href="#getMostRecentDump(org.wikidata.wdtk.dumpfiles.DumpContentType)"><code>getMostRecentDump(DumpContentType)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="processMostRecentMainDump()">
<h3>processMostRecentMainDump</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">processMostRecentMainDump</span>()</div>
<div class="block">Processes the most recent main (complete) dump that is available.
 Convenience method: same as retrieving a dump with
 <a href="#getMostRecentDump(org.wikidata.wdtk.dumpfiles.DumpContentType)"><code>getMostRecentDump(DumpContentType)</code></a> with
 <a href="DumpContentType.html#CURRENT"><code>DumpContentType.CURRENT</code></a> or <a href="DumpContentType.html#FULL"><code>DumpContentType.FULL</code></a>, and
 processing it with <a href="#processDump(org.wikidata.wdtk.dumpfiles.MwDumpFile)"><code>processDump(MwDumpFile)</code></a>. The individual
 methods should be used for better control and error handling.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#processAllRecentRevisionDumps()"><code>processAllRecentRevisionDumps()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="processMostRecentJsonDump()">
<h3>processMostRecentJsonDump</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">processMostRecentJsonDump</span>()</div>
<div class="block">Processes the most recent main (complete) dump in JSON form that is
 available. Convenience method: same as retrieving a dump with
 <a href="#getMostRecentDump(org.wikidata.wdtk.dumpfiles.DumpContentType)"><code>getMostRecentDump(DumpContentType)</code></a> with
 <a href="DumpContentType.html#JSON"><code>DumpContentType.JSON</code></a>, and processing it with
 <a href="#processDump(org.wikidata.wdtk.dumpfiles.MwDumpFile)"><code>processDump(MwDumpFile)</code></a>. The individual methods should be used
 for better control and error handling.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#processAllRecentRevisionDumps()"><code>processAllRecentRevisionDumps()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="processDump(org.wikidata.wdtk.dumpfiles.MwDumpFile)">
<h3>processDump</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">processDump</span><wbr><span class="parameters">(<a href="MwDumpFile.html" title="interface in org.wikidata.wdtk.dumpfiles">MwDumpFile</a>&nbsp;dumpFile)</span></div>
<div class="block">Processes the contents of the given dump file. All registered processor
 objects will be notified of all data. Note that JSON dumps do not
 contains any revision information, so that registered
 <a href="MwRevisionProcessor.html" title="interface in org.wikidata.wdtk.dumpfiles"><code>MwRevisionProcessor</code></a> objects will not be notified in this case.
 Dumps of type <a href="DumpContentType.html#SITES"><code>DumpContentType.SITES</code></a> cannot be processed with this
 method; use <a href="#getSitesInformation()"><code>getSitesInformation()</code></a> to process these dumps.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>dumpFile</code> - the dump to process</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getMostRecentDump(org.wikidata.wdtk.dumpfiles.DumpContentType)">
<h3>getMostRecentDump</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="MwDumpFile.html" title="interface in org.wikidata.wdtk.dumpfiles">MwDumpFile</a></span>&nbsp;<span class="element-name">getMostRecentDump</span><wbr><span class="parameters">(<a href="DumpContentType.html" title="enum in org.wikidata.wdtk.dumpfiles">DumpContentType</a>&nbsp;dumpContentType)</span></div>
<div class="block">Returns a handler for the most recent dump file of the given type that is
 available (under the current settings), or null if no dump file of this
 type could be retrieved.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>dumpContentType</code> - the type of the dump, e.g., <a href="DumpContentType.html#JSON"><code>DumpContentType.JSON</code></a></dd>
<dt>Returns:</dt>
<dd>the most recent dump, or null if none was found</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getWmfDumpFileManager()">
<h3>getWmfDumpFileManager</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="wmf/WmfDumpFileManager.html" title="class in org.wikidata.wdtk.dumpfiles.wmf">WmfDumpFileManager</a></span>&nbsp;<span class="element-name">getWmfDumpFileManager</span>()</div>
<div class="block">Returns a WmfDumpFileManager based on the current settings. This object
 can be used to get direct access to dump files, e.g., to gather more
 information. Most basic operations can also be performed using the
 interface of the <a href="DumpProcessingController.html" title="class in org.wikidata.wdtk.dumpfiles"><code>DumpProcessingController</code></a> and this is often
 preferable.
 <p>
 This dump file manager will not be updated if the settings change later.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a WmfDumpFileManager for the current settings or null if there
         was a problem (e.g., since the current dump file directory could
         not be accessed)</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2014&#x2013;2024 Wikidata Toolkit Developers. Generated from source code published under the Apache License 2.0. For more information, see the <a href="https://www.mediawiki.org/wiki/Wikidata_Toolkit">Wikidata Toolkit homepage</a></small></p>
</footer>
</div>
</div>
</body>
</html>
