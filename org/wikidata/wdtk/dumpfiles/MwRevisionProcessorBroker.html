<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Sun Jun 16 12:39:04 UTC 2024 -->
<title>MwRevisionProcessorBroker (Wikidata Toolkit 0.15.3 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2024-06-16">
<meta name="description" content="declaration: package: org.wikidata.wdtk.dumpfiles, class: MwRevisionProcessorBroker">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/MwRevisionProcessorBroker.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.wikidata.wdtk.dumpfiles</a></div>
<h1 title="Class MwRevisionProcessorBroker" class="title">Class MwRevisionProcessorBroker</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.wikidata.wdtk.dumpfiles.MwRevisionProcessorBroker</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="MwRevisionProcessor.html" title="interface in org.wikidata.wdtk.dumpfiles">MwRevisionProcessor</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">MwRevisionProcessorBroker</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="MwRevisionProcessor.html" title="interface in org.wikidata.wdtk.dumpfiles">MwRevisionProcessor</a></span></div>
<div class="block">This MwRevisionPRocessor distributes revisions to subscribers that register
 their interest in some type of message (revision). Duplicate revisions are
 filtered.
 
 The broker also allows subscribers to receive only the most current revision
 of a page rather than all revisions. To compute this efficiently, the broker
 assumes that blocks of revisions are processed in inverse chronological
 order, as it is the case when processing MediaWiki dump files in inverse
 chronological order. Revisions within a single block of revisions for one
 page do not need to be ordered in any specific way.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>Markus Kroetzsch</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">MwRevisionProcessorBroker</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#finishRevisionProcessing()" class="member-name-link">finishRevisionProcessing</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Finalises the processing of one dump file (and hence of the current block
 of pages).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#processRevision(org.wikidata.wdtk.dumpfiles.MwRevision)" class="member-name-link">processRevision</a><wbr>(<a href="MwRevision.html" title="interface in org.wikidata.wdtk.dumpfiles">MwRevision</a>&nbsp;mwRevision)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Process the given MediaWiki revision.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#registerMwRevisionProcessor(org.wikidata.wdtk.dumpfiles.MwRevisionProcessor,java.lang.String,boolean)" class="member-name-link">registerMwRevisionProcessor</a><wbr>(<a href="MwRevisionProcessor.html" title="interface in org.wikidata.wdtk.dumpfiles">MwRevisionProcessor</a>&nbsp;mwRevisionProcessor,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;model,
 boolean&nbsp;onlyCurrentRevisions)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Registers an MwRevisionProcessor, which will henceforth be notified of
 all revisions that are encountered in the dump.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#startRevisionProcessing(java.lang.String,java.lang.String,java.util.Map)" class="member-name-link">startRevisionProcessing</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;siteName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;baseUrl,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;namespaces)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Initialises the revision processor for processing revisions.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone--" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize--" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass--" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode--" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify--" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll--" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait--" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-int-" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>MwRevisionProcessorBroker</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">MwRevisionProcessorBroker</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="registerMwRevisionProcessor(org.wikidata.wdtk.dumpfiles.MwRevisionProcessor,java.lang.String,boolean)">
<h3>registerMwRevisionProcessor</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">registerMwRevisionProcessor</span><wbr><span class="parameters">(<a href="MwRevisionProcessor.html" title="interface in org.wikidata.wdtk.dumpfiles">MwRevisionProcessor</a>&nbsp;mwRevisionProcessor,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;model,
 boolean&nbsp;onlyCurrentRevisions)</span></div>
<div class="block">Registers an MwRevisionProcessor, which will henceforth be notified of
 all revisions that are encountered in the dump.
 <p>
 Importantly, the <a href="MwRevision.html" title="interface in org.wikidata.wdtk.dumpfiles"><code>MwRevision</code></a> that the registered processors will
 receive is owned by this <a href="MwRevisionProcessorBroker.html" title="class in org.wikidata.wdtk.dumpfiles"><code>MwRevisionProcessorBroker</code></a>. Its data is
 valid only during the execution of
 <a href="MwRevisionProcessor.html#processRevision(org.wikidata.wdtk.dumpfiles.MwRevision)"><code>MwRevisionProcessor.processRevision(MwRevision)</code></a>, but it
 will not be permanent. If the data is to be retained permanently, the
 revision processor needs to make its own copy.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>mwRevisionProcessor</code> - the revision processor to register</dd>
<dd><code>model</code> - the content model that the processor is registered for; it
            will only be notified of revisions in that model; if null is
            given, all revisions will be processed whatever their model</dd>
<dd><code>onlyCurrentRevisions</code> - if true, then the subscriber is only notified of the most
            current revisions; if false, then it will receive all
            revisions, current or not</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="startRevisionProcessing(java.lang.String,java.lang.String,java.util.Map)">
<h3>startRevisionProcessing</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">startRevisionProcessing</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;siteName,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;baseUrl,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,<wbr><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;namespaces)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="MwRevisionProcessor.html#startRevisionProcessing(java.lang.String,java.lang.String,java.util.Map)">MwRevisionProcessor</a></code></span></div>
<div class="block">Initialises the revision processor for processing revisions. General
 information about the configuration of the site for which revisions are
 being processed is provided.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="MwRevisionProcessor.html#startRevisionProcessing(java.lang.String,java.lang.String,java.util.Map)">startRevisionProcessing</a></code>&nbsp;in interface&nbsp;<code><a href="MwRevisionProcessor.html" title="interface in org.wikidata.wdtk.dumpfiles">MwRevisionProcessor</a></code></dd>
<dt>Parameters:</dt>
<dd><code>siteName</code> - the name of the site</dd>
<dd><code>baseUrl</code> - the base URL of the site</dd>
<dd><code>namespaces</code> - map from integer namespace ids to namespace prefixes;
            namespace strings do not include the final ":" used in
            MediaWiki to separate namespace prefixes from article titles,
            and the prefixes use spaces, not underscores as in MediaWiki
            URLs.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="processRevision(org.wikidata.wdtk.dumpfiles.MwRevision)">
<h3>processRevision</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">processRevision</span><wbr><span class="parameters">(<a href="MwRevision.html" title="interface in org.wikidata.wdtk.dumpfiles">MwRevision</a>&nbsp;mwRevision)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="MwRevisionProcessor.html#processRevision(org.wikidata.wdtk.dumpfiles.MwRevision)">MwRevisionProcessor</a></code></span></div>
<div class="block">Process the given MediaWiki revision.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="MwRevisionProcessor.html#processRevision(org.wikidata.wdtk.dumpfiles.MwRevision)">processRevision</a></code>&nbsp;in interface&nbsp;<code><a href="MwRevisionProcessor.html" title="interface in org.wikidata.wdtk.dumpfiles">MwRevisionProcessor</a></code></dd>
<dt>Parameters:</dt>
<dd><code>mwRevision</code> - the revision to process</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="finishRevisionProcessing()">
<h3>finishRevisionProcessing</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">finishRevisionProcessing</span>()</div>
<div class="block">Finalises the processing of one dump file (and hence of the current block
 of pages). In particular, this means that the most current revision found
 up to this point is really the most current one, so that subscribers
 should be notified.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="MwRevisionProcessor.html#finishRevisionProcessing()">finishRevisionProcessing</a></code>&nbsp;in interface&nbsp;<code><a href="MwRevisionProcessor.html" title="interface in org.wikidata.wdtk.dumpfiles">MwRevisionProcessor</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2014&#x2013;2024 Wikidata Toolkit Developers. Generated from source code published under the Apache License 2.0. For more information, see the <a href="https://www.mediawiki.org/wiki/Wikidata_Toolkit">Wikidata Toolkit homepage</a></small></p>
</footer>
</div>
</div>
</body>
</html>
