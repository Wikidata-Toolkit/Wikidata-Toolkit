<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_332) on Fri Jul 15 13:47:40 UTC 2022 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ApiConnection (Wikidata Toolkit 0.14.0 API)</title>
<meta name="date" content="2022-07-15">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ApiConnection (Wikidata Toolkit 0.14.0 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":6,"i4":10,"i5":10,"i6":10,"i7":10,"i8":9,"i9":10,"i10":6,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ApiConnection.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../org/wikidata/wdtk/wikibaseapi/BasicApiConnection.html" title="class in org.wikidata.wdtk.wikibaseapi"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/wikidata/wdtk/wikibaseapi/ApiConnection.html" target="_top">Frames</a></li>
<li><a href="ApiConnection.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.wikidata.wdtk.wikibaseapi</div>
<h2 title="Class ApiConnection" class="title">Class ApiConnection</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.wikidata.wdtk.wikibaseapi.ApiConnection</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../org/wikidata/wdtk/wikibaseapi/BasicApiConnection.html" title="class in org.wikidata.wdtk.wikibaseapi">BasicApiConnection</a>, <a href="../../../../org/wikidata/wdtk/wikibaseapi/OAuthApiConnection.html" title="class in org.wikidata.wdtk.wikibaseapi">OAuthApiConnection</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">ApiConnection</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Class to build up and hold a connection to a Wikibase API.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Michael Guenther, Antonin Delpeuch, Lu Liu</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#apiBaseUrl">apiBaseUrl</a></span></code>
<div class="block">URL to access the Wikibase API.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#ASSERT_PARAMETER">ASSERT_PARAMETER</a></span></code>
<div class="block">MediaWiki assert parameter to ensure we are editing while logged in.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#connectTimeout">connectTimeout</a></span></code>
<div class="block">Maximum time to wait for when establishing a connection, in milliseconds.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#loggedIn">loggedIn</a></span></code>
<div class="block">True after successful login.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#PARAM_ACTION">PARAM_ACTION</a></span></code>
<div class="block">Name of the HTTP parameter to submit an action to the API.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#PARAM_FORMAT">PARAM_FORMAT</a></span></code>
<div class="block">Name of the HTTP parameter to submit the requested result format to the
 API.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#readTimeout">readTimeout</a></span></code>
<div class="block">Maximum time to wait for a server response once the connection was established.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#tokens">tokens</a></span></code>
<div class="block">Map of requested tokens.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#URL_TEST_WIKIDATA_API">URL_TEST_WIKIDATA_API</a></span></code>
<div class="block">URL of the API of test.wikidata.org.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#URL_WIKIDATA_API">URL_WIKIDATA_API</a></span></code>
<div class="block">URL of the API of wikidata.org.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#URL_WIKIMEDIA_COMMONS_API">URL_WIKIMEDIA_COMMONS_API</a></span></code>
<div class="block">URL of the API of commons.wikimedia.org.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static okhttp3.MediaType</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#URLENCODED_MEDIA_TYPE">URLENCODED_MEDIA_TYPE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#username">username</a></span></code>
<div class="block">User name used to log in.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#ApiConnection-java.lang.String-">ApiConnection</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;apiBaseUrl)</code>
<div class="block">Creates an object to manage a connection to the Web API of a Wikibase
 site.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#ApiConnection-java.lang.String-java.util.Map-">ApiConnection</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;apiBaseUrl,
             <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;tokens)</code>
<div class="block">Creates an object to manage a connection to the Web API of a Wikibase
 site.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#checkCredentials--">checkCredentials</a></span>()</code>
<div class="block">Checks that the credentials are still valid for the
 user currently logged in.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#checkErrors-com.fasterxml.jackson.databind.JsonNode-">checkErrors</a></span>(com.fasterxml.jackson.databind.JsonNode&nbsp;root)</code>
<div class="block">Checks if an API response contains an error and throws a suitable
 exception in this case.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#getApiBaseUrl--">getApiBaseUrl</a></span>()</code>
<div class="block">Getter for the apiBaseUrl.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected abstract okhttp3.OkHttpClient.Builder</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#getClientBuilder--">getClientBuilder</a></span>()</code>
<div class="block">Subclasses can customize their own <code>OkHttpClient.Builder</code> instances.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#getConnectTimeout--">getConnectTimeout</a></span>()</code>
<div class="block">Maximum time to wait for when establishing a connection, in milliseconds.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#getCurrentUser--">getCurrentUser</a></span>()</code>
<div class="block">Returns the username of the user who is currently logged in.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#getReadTimeout--">getReadTimeout</a></span>()</code>
<div class="block">Maximum time to wait for a server response once the connection was established.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#getTokens--">getTokens</a></span>()</code>
<div class="block">Returns the map of tokens (such as csrf token and login token) currently used in this connection.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#implodeObjects-java.lang.Iterable-">implodeObjects</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;?&gt;&nbsp;objects)</code>
<div class="block">Builds a string that serializes a list of objects separated by the pipe
 character.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#isLoggedIn--">isLoggedIn</a></span>()</code>
<div class="block">Returns true if a user is logged in.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#logout--">logout</a></span>()</code>
<div class="block">Logs the current user out.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#logWarnings-com.fasterxml.jackson.databind.JsonNode-">logWarnings</a></span>(com.fasterxml.jackson.databind.JsonNode&nbsp;root)</code>
<div class="block">Extracts and logs any warnings that are returned in an API response.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>com.fasterxml.jackson.databind.JsonNode</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#sendJsonRequest-java.lang.String-java.util.Map-">sendJsonRequest</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;requestMethod,
               <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;parameters)</code>
<div class="block">Sends a request to the API with the given parameters and the given
 request method and returns the result JSON tree.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>com.fasterxml.jackson.databind.JsonNode</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#sendJsonRequest-java.lang.String-java.util.Map-java.util.Map-">sendJsonRequest</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;requestMethod,
               <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;parameters,
               <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,org.apache.commons.lang3.tuple.ImmutablePair&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&gt;&gt;&nbsp;files)</code>
<div class="block">Sends a request to the API with the given parameters and the given
 request method and returns the result JSON tree.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#sendRequest-java.lang.String-java.util.Map-java.util.Map-">sendRequest</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;requestMethod,
           <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;parameters,
           <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,org.apache.commons.lang3.tuple.ImmutablePair&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&gt;&gt;&nbsp;files)</code>
<div class="block">Sends a request to the API with the given parameters and the given
 request method and returns the result string.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#setConnectTimeout-int-">setConnectTimeout</a></span>(int&nbsp;timeout)</code>
<div class="block">Sets the maximum time to wait for when establishing a connection, in milliseconds.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#setReadTimeout-int-">setReadTimeout</a></span>(int&nbsp;timeout)</code>
<div class="block">Sets the maximum time to wait for a server response once the connection was established, in milliseconds.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="URL_WIKIDATA_API">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>URL_WIKIDATA_API</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> URL_WIKIDATA_API</pre>
<div class="block">URL of the API of wikidata.org.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.wikidata.wdtk.wikibaseapi.ApiConnection.URL_WIKIDATA_API">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="URL_TEST_WIKIDATA_API">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>URL_TEST_WIKIDATA_API</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> URL_TEST_WIKIDATA_API</pre>
<div class="block">URL of the API of test.wikidata.org.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.wikidata.wdtk.wikibaseapi.ApiConnection.URL_TEST_WIKIDATA_API">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="URL_WIKIMEDIA_COMMONS_API">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>URL_WIKIMEDIA_COMMONS_API</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> URL_WIKIMEDIA_COMMONS_API</pre>
<div class="block">URL of the API of commons.wikimedia.org.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.wikidata.wdtk.wikibaseapi.ApiConnection.URL_WIKIMEDIA_COMMONS_API">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="PARAM_ACTION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PARAM_ACTION</h4>
<pre>protected static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> PARAM_ACTION</pre>
<div class="block">Name of the HTTP parameter to submit an action to the API.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.wikidata.wdtk.wikibaseapi.ApiConnection.PARAM_ACTION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="PARAM_FORMAT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PARAM_FORMAT</h4>
<pre>protected static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> PARAM_FORMAT</pre>
<div class="block">Name of the HTTP parameter to submit the requested result format to the
 API.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.wikidata.wdtk.wikibaseapi.ApiConnection.PARAM_FORMAT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ASSERT_PARAMETER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ASSERT_PARAMETER</h4>
<pre>protected static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> ASSERT_PARAMETER</pre>
<div class="block">MediaWiki assert parameter to ensure we are editing while logged in.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.wikidata.wdtk.wikibaseapi.ApiConnection.ASSERT_PARAMETER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="URLENCODED_MEDIA_TYPE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>URLENCODED_MEDIA_TYPE</h4>
<pre>protected static final&nbsp;okhttp3.MediaType URLENCODED_MEDIA_TYPE</pre>
</li>
</ul>
<a name="apiBaseUrl">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>apiBaseUrl</h4>
<pre>protected final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> apiBaseUrl</pre>
<div class="block">URL to access the Wikibase API.</div>
</li>
</ul>
<a name="loggedIn">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loggedIn</h4>
<pre>protected&nbsp;boolean loggedIn</pre>
<div class="block">True after successful login.</div>
</li>
</ul>
<a name="username">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>username</h4>
<pre>protected&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> username</pre>
<div class="block">User name used to log in.</div>
</li>
</ul>
<a name="tokens">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tokens</h4>
<pre>protected final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt; tokens</pre>
<div class="block">Map of requested tokens.</div>
</li>
</ul>
<a name="connectTimeout">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connectTimeout</h4>
<pre>protected&nbsp;int connectTimeout</pre>
<div class="block">Maximum time to wait for when establishing a connection, in milliseconds.
 For negative values, no timeout is set.</div>
</li>
</ul>
<a name="readTimeout">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>readTimeout</h4>
<pre>protected&nbsp;int readTimeout</pre>
<div class="block">Maximum time to wait for a server response once the connection was established.
 For negative values, no timeout is set.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ApiConnection-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ApiConnection</h4>
<pre>public&nbsp;ApiConnection(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;apiBaseUrl)</pre>
<div class="block">Creates an object to manage a connection to the Web API of a Wikibase
 site.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>apiBaseUrl</code> - base URI to the API, e.g.,
            "https://www.wikidata.org/w/api.php/"</dd>
</dl>
</li>
</ul>
<a name="ApiConnection-java.lang.String-java.util.Map-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ApiConnection</h4>
<pre>public&nbsp;ApiConnection(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;apiBaseUrl,
                     <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;tokens)</pre>
<div class="block">Creates an object to manage a connection to the Web API of a Wikibase
 site.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>apiBaseUrl</code> - base URI to the API, e.g.,
            "https://www.wikidata.org/w/api.php/"</dd>
<dd><code>tokens</code> - CSRF tokens already acquired by the connection</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getClientBuilder--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClientBuilder</h4>
<pre>protected abstract&nbsp;okhttp3.OkHttpClient.Builder&nbsp;getClientBuilder()</pre>
<div class="block">Subclasses can customize their own <code>OkHttpClient.Builder</code> instances.

 An example:
 <pre>
            return new OkHttpClient.Builder()
                        .connectTimeout(5, TimeUnit.MILLISECONDS)
                        .readTimeout(5, TimeUnit.MILLISECONDS)
                        .cookieJar(...);
 </pre></div>
</li>
</ul>
<a name="getApiBaseUrl--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getApiBaseUrl</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getApiBaseUrl()</pre>
<div class="block">Getter for the apiBaseUrl.</div>
</li>
</ul>
<a name="isLoggedIn--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLoggedIn</h4>
<pre>public&nbsp;boolean&nbsp;isLoggedIn()</pre>
<div class="block">Returns true if a user is logged in. This does not perform
 any request to the server: it just returns our own internal state.
 To check if our authentication credentials are still considered
 valid by the remote server, use <a href="../../../../org/wikidata/wdtk/wikibaseapi/ApiConnection.html#checkCredentials--"><code>checkCredentials()</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the connection is in a logged in state</dd>
</dl>
</li>
</ul>
<a name="checkCredentials--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkCredentials</h4>
<pre>public&nbsp;void&nbsp;checkCredentials()
                      throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                             <a href="../../../../org/wikidata/wdtk/wikibaseapi/apierrors/MediaWikiApiErrorException.html" title="class in org.wikidata.wdtk.wikibaseapi.apierrors">MediaWikiApiErrorException</a></pre>
<div class="block">Checks that the credentials are still valid for the
 user currently logged in. This can fail if (for instance)
 the cookies expired, or were invalidated by a logout from
 a different client.

 This method queries the API and throws <a href="../../../../org/wikidata/wdtk/wikibaseapi/apierrors/AssertUserFailedException.html" title="class in org.wikidata.wdtk.wikibaseapi.apierrors"><code>AssertUserFailedException</code></a>
 if the check failed. This does not update the state of the connection
 object.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/wikidata/wdtk/wikibaseapi/apierrors/MediaWikiApiErrorException.html" title="class in org.wikidata.wdtk.wikibaseapi.apierrors">MediaWikiApiErrorException</a></code></dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="getCurrentUser--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentUser</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getCurrentUser()</pre>
<div class="block">Returns the username of the user who is currently logged in. If there is
 no user logged in the result is an empty string.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>name of the logged in user</dd>
</dl>
</li>
</ul>
<a name="getTokens--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTokens</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;getTokens()</pre>
<div class="block">Returns the map of tokens (such as csrf token and login token) currently used in this connection.</div>
</li>
</ul>
<a name="setConnectTimeout-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setConnectTimeout</h4>
<pre>public&nbsp;void&nbsp;setConnectTimeout(int&nbsp;timeout)</pre>
<div class="block">Sets the maximum time to wait for when establishing a connection, in milliseconds.
 For negative values, no timeout is set.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html?is-external=true#setConnectTimeout-int-" title="class or interface in java.net"><code>URLConnection.setConnectTimeout(int)</code></a></dd>
</dl>
</li>
</ul>
<a name="setReadTimeout-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setReadTimeout</h4>
<pre>public&nbsp;void&nbsp;setReadTimeout(int&nbsp;timeout)</pre>
<div class="block">Sets the maximum time to wait for a server response once the connection was established, in milliseconds.
 For negative values, no timeout is set.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html?is-external=true#setReadTimeout-int-" title="class or interface in java.net"><code>URLConnection.setReadTimeout(int)</code></a></dd>
</dl>
</li>
</ul>
<a name="getConnectTimeout--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConnectTimeout</h4>
<pre>public&nbsp;int&nbsp;getConnectTimeout()</pre>
<div class="block">Maximum time to wait for when establishing a connection, in milliseconds.
 For negative values, no timeout is set, which is the default behaviour (for
 backwards compatibility).</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html?is-external=true#getConnectTimeout--" title="class or interface in java.net"><code>URLConnection.getConnectTimeout()</code></a></dd>
</dl>
</li>
</ul>
<a name="getReadTimeout--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReadTimeout</h4>
<pre>public&nbsp;int&nbsp;getReadTimeout()</pre>
<div class="block">Maximum time to wait for a server response once the connection was established.
 For negative values, no timeout is set, which is the default behaviour (for backwards
 compatibility).</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html?is-external=true#getReadTimeout--" title="class or interface in java.net"><code>URLConnection.getReadTimeout()</code></a></dd>
</dl>
</li>
</ul>
<a name="logout--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logout</h4>
<pre>public abstract&nbsp;void&nbsp;logout()
                     throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                            <a href="../../../../org/wikidata/wdtk/wikibaseapi/apierrors/MediaWikiApiErrorException.html" title="class in org.wikidata.wdtk.wikibaseapi.apierrors">MediaWikiApiErrorException</a></pre>
<div class="block">Logs the current user out.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="../../../../org/wikidata/wdtk/wikibaseapi/apierrors/MediaWikiApiErrorException.html" title="class in org.wikidata.wdtk.wikibaseapi.apierrors">MediaWikiApiErrorException</a></code></dd>
</dl>
</li>
</ul>
<a name="sendJsonRequest-java.lang.String-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendJsonRequest</h4>
<pre>public&nbsp;com.fasterxml.jackson.databind.JsonNode&nbsp;sendJsonRequest(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;requestMethod,
                                                               <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;parameters)
                                                        throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                                               <a href="../../../../org/wikidata/wdtk/wikibaseapi/apierrors/MediaWikiApiErrorException.html" title="class in org.wikidata.wdtk.wikibaseapi.apierrors">MediaWikiApiErrorException</a></pre>
<div class="block">Sends a request to the API with the given parameters and the given
 request method and returns the result JSON tree. It automatically fills the
 cookie map with cookies in the result header after the request.
 It logs the request warnings and adds makes sure that "format": "json"
 parameter is set.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requestMethod</code> - either POST or GET</dd>
<dd><code>parameters</code> - Maps parameter keys to values. Out of this map the function
            will create a query string for the request.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>API result</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="../../../../org/wikidata/wdtk/wikibaseapi/apierrors/MediaWikiApiErrorException.html" title="class in org.wikidata.wdtk.wikibaseapi.apierrors">MediaWikiApiErrorException</a></code> - if the API returns an error</dd>
</dl>
</li>
</ul>
<a name="sendJsonRequest-java.lang.String-java.util.Map-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendJsonRequest</h4>
<pre>public&nbsp;com.fasterxml.jackson.databind.JsonNode&nbsp;sendJsonRequest(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;requestMethod,
                                                               <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;parameters,
                                                               <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,org.apache.commons.lang3.tuple.ImmutablePair&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&gt;&gt;&nbsp;files)
                                                        throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                                               <a href="../../../../org/wikidata/wdtk/wikibaseapi/apierrors/MediaWikiApiErrorException.html" title="class in org.wikidata.wdtk.wikibaseapi.apierrors">MediaWikiApiErrorException</a></pre>
<div class="block">Sends a request to the API with the given parameters and the given
 request method and returns the result JSON tree. It automatically fills the
 cookie map with cookies in the result header after the request.
 It logs the request warnings and adds makes sure that "format": "json"
 parameter is set.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requestMethod</code> - either POST or GET</dd>
<dd><code>parameters</code> - Maps parameter keys to values. Out of this map the function
            will create a query string for the request.</dd>
<dd><code>files</code> - If GET, this should be null. If POST, this can contain
            a list of files to upload, indexed by the parameter to pass them with.
            The first component of the pair is the filename exposed to the server,
            and the second component is the path to the local file to upload.
            Set to null or empty map to avoid uploading any file.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>API result</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="../../../../org/wikidata/wdtk/wikibaseapi/apierrors/MediaWikiApiErrorException.html" title="class in org.wikidata.wdtk.wikibaseapi.apierrors">MediaWikiApiErrorException</a></code> - if the API returns an error</dd>
</dl>
</li>
</ul>
<a name="sendRequest-java.lang.String-java.util.Map-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendRequest</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;sendRequest(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;requestMethod,
                               <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;parameters,
                               <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,org.apache.commons.lang3.tuple.ImmutablePair&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&gt;&gt;&nbsp;files)
                        throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Sends a request to the API with the given parameters and the given
 request method and returns the result string. It automatically fills the
 cookie map with cookies in the result header after the request.

 Warning: You probably want to use ApiConnection.sendJsonRequest
 that execute the request using JSON content format,
 throws the errors and logs the warnings.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requestMethod</code> - either POST or GET</dd>
<dd><code>parameters</code> - Maps parameter keys to values. Out of this map the function
            will create a query string for the request.</dd>
<dd><code>files</code> - If GET, this should be null. If POST, this can contain
            a list of files to upload, indexed by the parameter to pass them with.
            The first component of the pair is the filename exposed to the server,
            and the second component is the path to the local file to upload.
            Set to null or empty map to avoid uploading any file.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>API result</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="checkErrors-com.fasterxml.jackson.databind.JsonNode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkErrors</h4>
<pre>protected&nbsp;void&nbsp;checkErrors(com.fasterxml.jackson.databind.JsonNode&nbsp;root)
                    throws <a href="../../../../org/wikidata/wdtk/wikibaseapi/apierrors/MediaWikiApiErrorException.html" title="class in org.wikidata.wdtk.wikibaseapi.apierrors">MediaWikiApiErrorException</a></pre>
<div class="block">Checks if an API response contains an error and throws a suitable
 exception in this case.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>root</code> - root node of the JSON result</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/wikidata/wdtk/wikibaseapi/apierrors/MediaWikiApiErrorException.html" title="class in org.wikidata.wdtk.wikibaseapi.apierrors">MediaWikiApiErrorException</a></code></dd>
</dl>
</li>
</ul>
<a name="logWarnings-com.fasterxml.jackson.databind.JsonNode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logWarnings</h4>
<pre>protected&nbsp;void&nbsp;logWarnings(com.fasterxml.jackson.databind.JsonNode&nbsp;root)</pre>
<div class="block">Extracts and logs any warnings that are returned in an API response.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>root</code> - root node of the JSON result</dd>
</dl>
</li>
</ul>
<a name="implodeObjects-java.lang.Iterable-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>implodeObjects</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;implodeObjects(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;?&gt;&nbsp;objects)</pre>
<div class="block">Builds a string that serializes a list of objects separated by the pipe
 character. The toString methods are used to turn objects into strings.
 This operation is commonly used to build parameter lists for API
 requests.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>objects</code> - the objects to implode</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>string of imploded objects</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ApiConnection.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../org/wikidata/wdtk/wikibaseapi/BasicApiConnection.html" title="class in org.wikidata.wdtk.wikibaseapi"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/wikidata/wdtk/wikibaseapi/ApiConnection.html" target="_top">Frames</a></li>
<li><a href="ApiConnection.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014&#x2013;2022 Wikidata Toolkit Developers. Generated from source code published under the Apache License 2.0. For more information, see the <a href="https://www.mediawiki.org/wiki/Wikidata_Toolkit">Wikidata Toolkit homepage</a></small></p>
</body>
</html>
